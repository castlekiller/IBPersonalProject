import{f as Q,a as G,c as oe}from"../chunks/ovKnLOks.js";import{i as ue}from"../chunks/DG43bj1x.js";import{a as B,w as ce,M as U,h as C,F as ve,K as de,o as x,al as pe,am as he,U as ge,a1 as Z,ae as V,e as F,S as _e,aj as me,$ as j,c as be,an as k,b as X,s as Ee,O as ee,ao as J,ah as W,ap as Ae,aq as we,ar as ye,as as Se,r as te,p as ie,at as Y,ac as Te,ag as Ie,d as xe,au as se,R as Ce,av as Ne,y as ke,aw as H,z as re,A as De,B as L,C as R,D as fe,x as Oe}from"../chunks/Bl1DwQ1j.js";import{o as Me}from"../chunks/DgDVS_Gj.js";import{e as K,s as Re}from"../chunks/CmSMbsDk.js";function ne(e,n){return n}function He(e,n,a){for(var o=[],b=n.length,s,f=n.length,c=0;c<b;c++){let w=n[c];ie(w,()=>{if(s){if(s.pending.delete(w),s.done.add(w),s.pending.size===0){var h=e.outrogroups;P(W(s.done)),h.delete(s),h.size===0&&(e.outrogroups=null)}}else f-=1},!1)}if(f===0){var t=o.length===0&&a!==null;if(t){var v=a,l=v.parentNode;Ie(l),l.append(v),e.items.clear()}P(n,!t)}else s={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(s)}function P(e,n=!0){for(var a=0;a<e.length;a++)xe(e[a],n)}var ae;function le(e,n,a,o,b,s=null){var f=e,c=new Map,t=(n&se)!==0;if(t){var v=e;f=C?U(ve(v)):v.appendChild(B())}C&&de();var l=null,w=pe(()=>{var i=a();return Ae(i)?i:i==null?[]:W(i)}),h,_=!0;function y(){r.fallback=l,Le(r,h,f,n,o),l!==null&&(h.length===0?(l.f&k)===0?te(l):(l.f^=k,z(l,null,f)):ie(l,()=>{l=null}))}var T=ce(()=>{h=x(w);var i=h.length;let N=!1;if(C){var I=he(f)===ge;I!==(i===0)&&(f=Z(),U(f),V(!1),N=!0)}for(var u=new Set,g=be,E=Ee(),d=0;d<i;d+=1){C&&F.nodeType===_e&&F.data===me&&(f=F,N=!0,V(!1));var m=h[d],A=o(m,d),p=_?null:c.get(A);p?(p.v&&j(p.v,m),p.i&&j(p.i,d),E&&g.skipped_effects.delete(p.e)):(p=ze(c,_?f:ae??=B(),m,A,d,b,n,a),_||(p.e.f|=k),c.set(A,p)),u.add(A)}if(i===0&&s&&!l&&(_?l=X(()=>s(f)):(l=X(()=>s(ae??=B())),l.f|=k)),C&&i>0&&U(Z()),!_)if(E){for(const[M,S]of c)u.has(M)||g.skipped_effects.add(S.e);g.oncommit(y),g.ondiscard(()=>{})}else y();N&&V(!0),x(w)}),r={effect:T,items:c,outrogroups:null,fallback:l};_=!1,C&&(f=F)}function Le(e,n,a,o,b){var s=(o&Ne)!==0,f=n.length,c=e.items,t=e.effect.first,v,l=null,w,h=[],_=[],y,T,r,i;if(s)for(i=0;i<f;i+=1)y=n[i],T=b(y,i),r=c.get(T).e,(r.f&k)===0&&(r.nodes?.a?.measure(),(w??=new Set).add(r));for(i=0;i<f;i+=1){if(y=n[i],T=b(y,i),r=c.get(T).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(r),p.done.delete(r);if((r.f&k)!==0)if(r.f^=k,r===t)z(r,null,a);else{var N=l?l.next:t;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),O(e,l,r),O(e,r,N),z(r,N,a),l=r,h=[],_=[],t=l.next;continue}if((r.f&Y)!==0&&(te(r),s&&(r.nodes?.a?.unfix(),(w??=new Set).delete(r))),r!==t){if(v!==void 0&&v.has(r)){if(h.length<_.length){var I=_[0],u;l=I.prev;var g=h[0],E=h[h.length-1];for(u=0;u<h.length;u+=1)z(h[u],I,a);for(u=0;u<_.length;u+=1)v.delete(_[u]);O(e,g.prev,E.next),O(e,l,g),O(e,E,I),t=I,l=E,i-=1,h=[],_=[]}else v.delete(r),z(r,t,a),O(e,r.prev,r.next),O(e,r,l===null?e.effect.first:l.next),O(e,l,r),l=r;continue}for(h=[],_=[];t!==null&&t!==r;)(v??=new Set).add(t),_.push(t),t=t.next;if(t===null)continue}(r.f&k)===0&&h.push(r),l=r,t=r.next}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(P(W(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(t!==null||v!==void 0){var d=[];if(v!==void 0)for(r of v)(r.f&Y)===0&&d.push(r);for(;t!==null;)(t.f&Y)===0&&t!==e.fallback&&d.push(t),t=t.next;var m=d.length;if(m>0){var A=(o&se)!==0&&f===0?a:null;if(s){for(i=0;i<m;i+=1)d[i].nodes?.a?.measure();for(i=0;i<m;i+=1)d[i].nodes?.a?.fix()}He(e,d,A)}}s&&Ce(()=>{if(w!==void 0)for(r of w)r.nodes?.a?.apply()})}function ze(e,n,a,o,b,s,f,c){var t=(f&we)!==0?(f&ye)===0?J(a,!1,!1):ee(a):null,v=(f&Se)!==0?ee(b):null;return{v:t,i:v,e:X(()=>(s(n,t??a,v??b,c),()=>{e.delete(o)}))}}function z(e,n,a){if(e.nodes)for(var o=e.nodes.start,b=e.nodes.end,s=n&&(n.f&k)===0?n.nodes.start:a;o!==null;){var f=Te(o);if(s.before(o),o===b)return;o=f}}function O(e,n,a){n===null?e.effect.first=a:n.next=a,a===null?e.effect.last=n:a.prev=n}function Fe(e,n,a){var o=e==null?"":""+e;return o=o?o+" "+n:n,o===""?null:o}function Ge(e,n){return e==null?null:String(e)}function $e(e,n,a,o,b,s){var f=e.__className;if(C||f!==a||f===void 0){var c=Fe(a,o);(!C||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=a}return s}function qe(e,n,a,o){var b=e.__style;if(C||b!==n){var s=Ge(n);(!C||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=n}return o}var Be=Q('<div role="button" tabindex="0"></div>'),Ue=Q('<div class="game svelte-h0bcci"><div class="controls svelte-h0bcci"><button class="svelte-h0bcci"> </button></div> <div class="board svelte-h0bcci"><div class="grid svelte-h0bcci"></div></div></div>');function Ve(e,n){ke(n,!1),console.log("GameOfLife component mounted");function a(u,g){return Array.from({length:u},()=>Array.from({length:g},()=>0))}function o(u){const g=u.length,E=g?u[0].length:0,d=a(g,E);for(let m=0;m<g;m++)for(let A=0;A<E;A++){let p=0;for(let S=-1;S<=1;S++)for(let D=-1;D<=1;D++){if(S===0&&D===0)continue;const $=m+S,q=A+D;$>=0&&$<g&&q>=0&&q<E&&(p+=u[$][q])}const M=u[m][A]===1;d[m][A]=M&&(p===2||p===3)||!M&&p===3?1:0}return d}function b(u,g,E){const d=u.map(m=>m.slice());return d[g][E]=d[g][E]?0:1,d}let s=40,f=40,c=J(a(s,f)),t=`grid-template-columns: repeat(${f}, 30px);`,v=J(!1),l=null;function w(){x(v)||(H(v,!0),l=setInterval(()=>{H(c,o(x(c)))},250))}function h(){H(v,!1),l&&(clearInterval(l),l=null)}function _(u,g){H(c,b(x(c),u,g))}Me(()=>{l&&clearInterval(l)}),H(c,a(s,f)),ue();var y=Ue(),T=L(y),r=L(T),i=L(r,!0);R(r),R(T);var N=fe(T,2),I=L(N);qe(I,t),le(I,5,()=>x(c),ne,(u,g,E)=>{var d=oe(),m=Oe(d);le(m,1,()=>x(g),ne,(A,p,M)=>{var S=Be();re(()=>$e(S,1,`cell ${x(p)?"alive":""}`,"svelte-h0bcci")),K("click",S,()=>_(E,M)),K("keydown",S,D=>{(D.key==="Enter"||D.key===" ")&&(_(E,M),D.preventDefault())}),G(A,S)}),G(u,d)}),R(I),R(N),R(y),re(()=>Re(i,x(v)?"Stop":"Start")),K("click",r,function(...u){(x(v)?h:w)?.apply(this,u)}),G(e,y),De()}var Ye=Q('<div class="page svelte-1uha8ag"><header class="rules svelte-1uha8ag"><div class="rules-upperleft svelte-1uha8ag"><ul class="svelte-1uha8ag"><h1>- Any live cell with fewer than two live neighbours dies, as if by underpopulation.</h1> <h1>- Any live cell with two or three live neighbours lives on to the next generation.</h1></ul></div> <div class="rules-upperright svelte-1uha8ag"><ul class="svelte-1uha8ag"><h1>- Any live cell with more than three live neighbours dies, as if by overpopulation.</h1> <h1>- Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.</h1></ul></div></header> <!></div>');function We(e){var n=Ye(),a=fe(L(n),2);Ve(a,{}),R(n),G(e,n)}export{We as component};
