import{f as J,a as L,c as fe}from"../chunks/ovKnLOks.js";import{i as oe}from"../chunks/DG43bj1x.js";import{a as $,w as ue,M as B,h as x,F as ve,K as ce,o as N,al as de,am as pe,U as he,a1 as Q,ae as U,e as F,S as ge,aj as _e,$ as W,c as me,an as D,b as Y,s as be,O as Z,ao as K,ah as P,ap as Ee,aq as Ae,ar as we,as as ye,r as le,p as ie,at as V,ac as Se,ag as Te,d as Ie,au as te,R as Ce,av as Ne,y as xe,aw as k,z as j,A as De,B as H,C as R,D as se,x as Me}from"../chunks/Bl1DwQ1j.js";import{o as Oe}from"../chunks/DgDVS_Gj.js";import{e as ee,s as Re}from"../chunks/CmSMbsDk.js";function re(e,a){return a}function ke(e,a,n){for(var o=[],m=a.length,s,f=a.length,u=0;u<m;u++){let w=a[u];ie(w,()=>{if(s){if(s.pending.delete(w),s.done.add(w),s.pending.size===0){var p=e.outrogroups;X(P(s.done)),p.delete(s),p.size===0&&(e.outrogroups=null)}}else f-=1},!1)}if(f===0){var l=o.length===0&&n!==null;if(l){var c=n,i=c.parentNode;Te(i),i.append(c),e.items.clear()}X(a,!l)}else s={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(s)}function X(e,a=!0){for(var n=0;n<e.length;n++)Ie(e[n],a)}var ae;function ne(e,a,n,o,m,s=null){var f=e,u=new Map,l=(a&te)!==0;if(l){var c=e;f=x?B(ve(c)):c.appendChild($())}x&&ce();var i=null,w=de(()=>{var t=n();return Ee(t)?t:t==null?[]:P(t)}),p,_=!0;function S(){r.fallback=i,He(r,p,f,a,o),i!==null&&(p.length===0?(i.f&D)===0?le(i):(i.f^=D,z(i,null,f)):ie(i,()=>{i=null}))}var T=ue(()=>{p=N(w);var t=p.length;let I=!1;if(x){var h=pe(f)===he;h!==(t===0)&&(f=Q(),B(f),U(!1),I=!0)}for(var v=new Set,b=me,E=be(),d=0;d<t;d+=1){x&&F.nodeType===ge&&F.data===_e&&(f=F,I=!0,U(!1));var A=p[d],y=o(A,d),g=_?null:u.get(y);g?(g.v&&W(g.v,A),g.i&&W(g.i,d),E&&b.skipped_effects.delete(g.e)):(g=ze(u,_?f:ae??=$(),A,y,d,m,a,n),_||(g.e.f|=D),u.set(y,g)),v.add(y)}if(t===0&&s&&!i&&(_?i=Y(()=>s(f)):(i=Y(()=>s(ae??=$())),i.f|=D)),x&&t>0&&B(Q()),!_)if(E){for(const[C,O]of u)v.has(C)||b.skipped_effects.add(O.e);b.oncommit(S),b.ondiscard(()=>{})}else S();I&&U(!0),N(w)}),r={effect:T,items:u,outrogroups:null,fallback:i};_=!1,x&&(f=F)}function He(e,a,n,o,m){var s=(o&Ne)!==0,f=a.length,u=e.items,l=e.effect.first,c,i=null,w,p=[],_=[],S,T,r,t;if(s)for(t=0;t<f;t+=1)S=a[t],T=m(S,t),r=u.get(T).e,(r.f&D)===0&&(r.nodes?.a?.measure(),(w??=new Set).add(r));for(t=0;t<f;t+=1){if(S=a[t],T=m(S,t),r=u.get(T).e,e.outrogroups!==null)for(const g of e.outrogroups)g.pending.delete(r),g.done.delete(r);if((r.f&D)!==0)if(r.f^=D,r===l)z(r,null,n);else{var I=i?i.next:l;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),M(e,i,r),M(e,r,I),z(r,I,n),i=r,p=[],_=[],l=i.next;continue}if((r.f&V)!==0&&(le(r),s&&(r.nodes?.a?.unfix(),(w??=new Set).delete(r))),r!==l){if(c!==void 0&&c.has(r)){if(p.length<_.length){var h=_[0],v;i=h.prev;var b=p[0],E=p[p.length-1];for(v=0;v<p.length;v+=1)z(p[v],h,n);for(v=0;v<_.length;v+=1)c.delete(_[v]);M(e,b.prev,E.next),M(e,i,b),M(e,E,h),l=h,i=E,t-=1,p=[],_=[]}else c.delete(r),z(r,l,n),M(e,r.prev,r.next),M(e,r,i===null?e.effect.first:i.next),M(e,i,r),i=r;continue}for(p=[],_=[];l!==null&&l!==r;)(c??=new Set).add(l),_.push(l),l=l.next;if(l===null)continue}(r.f&D)===0&&p.push(r),i=r,l=r.next}if(e.outrogroups!==null){for(const g of e.outrogroups)g.pending.size===0&&(X(P(g.done)),e.outrogroups?.delete(g));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||c!==void 0){var d=[];if(c!==void 0)for(r of c)(r.f&V)===0&&d.push(r);for(;l!==null;)(l.f&V)===0&&l!==e.fallback&&d.push(l),l=l.next;var A=d.length;if(A>0){var y=(o&te)!==0&&f===0?n:null;if(s){for(t=0;t<A;t+=1)d[t].nodes?.a?.measure();for(t=0;t<A;t+=1)d[t].nodes?.a?.fix()}ke(e,d,y)}}s&&Ce(()=>{if(w!==void 0)for(r of w)r.nodes?.a?.apply()})}function ze(e,a,n,o,m,s,f,u){var l=(f&Ae)!==0?(f&we)===0?K(n,!1,!1):Z(n):null,c=(f&ye)!==0?Z(m):null;return{v:l,i:c,e:Y(()=>(s(a,l??n,c??m,u),()=>{e.delete(o)}))}}function z(e,a,n){if(e.nodes)for(var o=e.nodes.start,m=e.nodes.end,s=a&&(a.f&D)===0?a.nodes.start:n;o!==null;){var f=Se(o);if(s.before(o),o===m)return;o=f}}function M(e,a,n){a===null?e.effect.first=n:a.next=n,n===null?e.effect.last=a:n.prev=a}function Fe(e,a,n){var o=e==null?"":""+e;return o=o?o+" "+a:a,o===""?null:o}function Le(e,a){return String(e)}function qe(e,a,n,o,m,s){var f=e.__className;if(x||f!==n||f===void 0){var u=Fe(n,o);(!x||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=n}return s}function Ge(e,a,n,o){var m=e.__style;if(x||m!==a){var s=Le(a);(!x||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=a}return o}var $e=J("<div></div>"),Be=J('<div class="game svelte-h0bcci"><div class="controls svelte-h0bcci"><button class="svelte-h0bcci"> </button></div> <div class="board svelte-h0bcci"><div class="grid svelte-h0bcci"></div></div></div>');function Ue(e,a){xe(a,!1);function n(h,v){return Array.from({length:h},()=>Array.from({length:v},()=>0))}function o(h){const v=h.length,b=v?h[0].length:0,E=n(v,b);for(let d=0;d<v;d++)for(let A=0;A<b;A++){let y=0;for(let C=-1;C<=1;C++)for(let O=-1;O<=1;O++){if(C===0&&O===0)continue;const q=d+C,G=A+O;q>=0&&q<v&&G>=0&&G<b&&(y+=h[q][G])}const g=h[d][A]===1;E[d][A]=g&&(y===2||y===3)||!g&&y===3?1:0}return E}function m(h,v,b){const E=h.map(d=>d.slice());return E[v][b]=E[v][b]?0:1,E}let s=40,f=40,u=K(n(s,f)),l=K(!1),c=null;function i(){N(l)||(k(l,!0),c=setInterval(()=>{k(u,o(N(u)))},250))}function w(){k(l,!1),c&&(clearInterval(c),c=null)}function p(h,v){k(u,m(N(u),h,v))}Oe(()=>{c&&clearInterval(c)}),k(u,n(s,f)),oe();var _=Be(),S=H(_),T=H(S),r=H(T,!0);R(T),R(S);var t=se(S,2),I=H(t);Ge(I,"grid-template-columns: repeat(40, 30px);"),ne(I,5,()=>N(u),re,(h,v,b)=>{var E=fe(),d=Me(E);ne(d,1,()=>N(v),re,(A,y,g)=>{var C=$e();j(()=>qe(C,1,`cell ${N(y)?"alive":""}`,"svelte-h0bcci")),ee("click",C,()=>p(b,g)),L(A,C)}),L(h,E)}),R(I),R(t),R(_),j(()=>Re(r,N(l)?"Stop":"Start")),ee("click",T,function(...h){(N(l)?w:i)?.apply(this,h)}),L(e,_),De()}var Ve=J('<div class="page svelte-1uha8ag"><header class="rules svelte-1uha8ag"><div class="rules-upperleft svelte-1uha8ag"><ul class="svelte-1uha8ag"><h1>- Any live cell with fewer than two live neighbours dies, as if by underpopulation.</h1> <h1>- Any live cell with two or three live neighbours lives on to the next generation.</h1></ul></div> <div class="rules-upperright svelte-1uha8ag"><ul class="svelte-1uha8ag"><h1>- Any live cell with more than three live neighbours dies, as if by overpopulation.</h1> <h1>- Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.</h1></ul></div></header> <!></div>');function Qe(e){var a=Ve(),n=se(H(a),2);Ue(n,{}),R(a),L(e,a)}export{Qe as component};
